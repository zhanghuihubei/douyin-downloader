# 抖音关注视频自动下载器

## 📖 简介

这是一个完全独立运行的Chrome浏览器插件，可以自动下载你在抖音关注的所有用户发布的视频。

**特点：**
- ✅ 完全本地运行，不依赖任何远程服务器
- ✅ 自动轮询检查关注用户的新视频
- ✅ 批量下载，自动管理下载队列
- ✅ 保存视频标题和作者信息
- ✅ 可配置检查间隔
- ✅ 简洁美观的用户界面

## 🚀 安装方法

### 1. 创建图标文件

由于插件需要图标文件，请按以下步骤创建：

**方法A：使用在线工具**
1. 访问 https://www.favicon-generator.org/
2. 上传任意图片（建议使用抖音相关图标）
3. 生成16x16、48x48、128x128三种尺寸
4. 重命名为 `icon16.png`、`icon48.png`、`icon128.png`
5. 放到插件目录 `douyin-downloader` 文件夹中

**方法B：使用表情符号**
1. 访问 https://favicon.io/emoji-favicons/
2. 搜索 "movie camera" 或其他相关表情
3. 下载并重命名为对应的文件名

### 2. 加载插件到Chrome

1. 打开Chrome浏览器，输入 `chrome://extensions/`
2. 打开右上角的"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择 `douyin-downloader` 文件夹
5. 插件安装完成！

## 📋 使用说明

### 首次使用

1. **登录抖音**
   - 点击插件图标，点击"打开抖音网页"
   - 登录你的抖音账号

2. **开始扫描**
   - 在插件弹窗中，点击"立即扫描关注列表"
   - 插件会自动获取你的所有关注用户
   - 然后逐个获取每个用户的视频列表

3. **自动下载**
   - 视频会自动下载到 `下载/抖音视频/` 文件夹
   - 文件名格式：`作者名_视频标题_视频ID.mp4`

### 自动轮询

- 插件会按设定的间隔（默认1小时）自动检查新视频
- 可以在设置中调整检查间隔（30分钟到24小时）
- 已下载的视频不会重复下载

### 配置选项

在插件弹窗中可以配置：
- **检查间隔**：设置多久检查一次新视频
- **自动下载开关**：暂停或启动自动下载功能

## 🔧 技术说明

### 工作原理

1. **content.js** - 注入到抖音页面
2. **injected.js** - 在页面上下文中运行，调用抖音API
3. **background.js** - 后台服务，管理下载队列和定时任务
4. **popup.html/js** - 用户界面

### API说明

插件使用以下抖音API：
- `/aweme/v1/web/followings/list/` - 获取关注列表
- `/aweme/v1/web/aweme/post/` - 获取用户视频列表

### 数据存储

- 使用Chrome的`storage.local` API存储配置
- 使用`Set`结构记录已下载的视频ID，避免重复下载

## ⚠️ 注意事项

1. **登录要求**：必须在Chrome中登录抖音账号才能使用
2. **请求频率**：插件已内置延迟，避免请求过快被限制
3. **视频数量**：每个用户默认获取最多50个视频
4. **存储空间**：请确保有足够的磁盘空间存储视频
5. **隐私保护**：所有数据都在本地处理，不会上传到任何服务器

## 🐛 常见问题

### Q: 为什么扫描失败？
A: 请确保：
- 已在Chrome中登录抖音账号
- 打开了抖音网页（www.douyin.com）
- 网络连接正常

### Q: 为什么有些视频下载失败？
A: 可能的原因：
- 视频已被删除或设为私密
- 网络问题导致下载中断
- 抖音的反爬虫限制

### Q: 如何停止自动下载？
A: 在插件弹窗中点击"暂停自动下载"按钮

### Q: 下载的视频保存在哪里？
A: 默认保存在Chrome的下载文件夹中的 `抖音视频` 子文件夹

## 📄 许可

本插件仅供个人学习和研究使用，请遵守抖音的服务条款。

## 🔄 更新日志

### v1.0.0 (2024)
- 首次发布
- 实现基本的关注列表获取和视频下载功能
- 支持自动轮询下载
- 提供友好的用户界面

## 💡 提示

- 建议在网络状况良好时使用
- 首次扫描可能需要较长时间，请耐心等待
- 如遇到问题，可以尝试重启插件或重新登录抖音

---

**享受自动下载的便利！** 🎉
